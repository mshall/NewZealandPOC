package com.cubeshub.util;

import org.springframework.stereotype.Component;
import org.springframework.web.client.RestTemplate;

@Component
public class HttpClient {

	
	RestTemplate restTemplate = new RestTemplate();

	public <T> T callAPI(Class<T> clazz, String town, String postcode) {

		String getUrl = "http://newzealand-poc.getsandbox.com/shops?town=" + town + "&postcode=" + postcode;
		T response = (T) restTemplate.getForObject(getUrl, clazz);
		if (response != null) {
			System.out.println("Response for Get Request: " + response.toString());
		} else {
			System.out.println("Response for Get Request: NULL");
		}
		return response;
	}
}
